<ion-item-group style="margin-bottom: 3vmax;">
  <ion-item class="ion-margin-end">
    <ion-icon slot="start" name="person-circle" style="width: 7vmax; height: 7vmax;" class="ion-no-margin ion-margin-end">
    </ion-icon>
    <ion-label text-wrap (click)="loggedUser()? presentPopover($event): false">
      <ion-text>
        <p><span style="font-weight: bold; font-size: 2.2vmax;" class="ion-margin-end">{{ commentItem.username
            }}</span><span style="color: grey; font-size: 1.7vmax;">{{ commentItem.date }}</span></p>
      </ion-text>
      <ion-text class="ion-margin-top">
        <p>{{ commentItem.text }}</p>
      </ion-text>
    </ion-label>
    <ion-buttons slot="end">
      <ion-button color="{{ showResponseForm ? 'danger': 'primary' }}" (click)="onClick()" *ngIf="!showUpdateForm">
        <ion-icon name="{{ showResponseForm ? 'close-circle' : 'arrow-undo-circle'}}" style="width: 3.5vmax; height: 3.5vmax;"></ion-icon>
      </ion-button>
      <ion-button color="warning" *ngIf="showUpdateForm" (click)="onClose()">
        <ion-icon name="close-circle" style="width: 3.5vmax; height: 3.5vmax;"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-item>

  <app-comment-form [margin_left]="'2vmax'"(onSubmitComment)="onSubmit($event)" [showForm]="showResponseForm"></app-comment-form>
  <app-comment-form [margin_left]="'2vmax'" (onSubmitComment)="onUpdate($event)" [showForm]="showUpdateForm" [text]="text"></app-comment-form>
</ion-item-group>

<app-comment-response (onSubmitResponse)="submitResponse()" *ngFor="let comment of commentItem.children" [commentItem]="comment" class="ion-margin-top"></app-comment-response>
